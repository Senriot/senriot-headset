/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */



plugins {
    id 'java'
    id("com.github.node-gradle.node")
    id 'maven'
    id "signing"
    id 'maven-publish'
}
group = "com.senriot.quickup.client"
version = "0.0.3"
//apply from: "./update.gradle"

task webpack(type: YarnTask, dependsOn: "npm") {
    args = ["run", "build"]
}

//jar.dependsOn webpack

jar {
    from 'dist/headset-webapp' into 'static'
}

publishing {
    publications {
        maven(MavenPublication) {
            //指定group/artifact/version信息
            groupId project.group
            artifactId project.name
            version project.version
            //打包类型 war: components.web jar: components.java
            from components.java
        }
    }
    repositories {
        maven {
            //指定要上传的maven私服仓库
            url = "http://47.103.89.201:8081/repository/maven-releases/"
            //认证用户和密码
            credentials {
                username 'admin'
                password 'jiandan88'
            }
        }
    }
}
